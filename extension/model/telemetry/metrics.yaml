# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# This file defines the metrics that are recorded by the Glean SDK.
# APIs to use these pings are automatically generated at build time using
# the `glean_parser` PyPI package.

# Metrics in this file may make use of SDK reserved ping names. See
# https://mozilla.github.io/glean/book/dev/core/internal/reserved-ping-names.html
# for additional information.

---
$schema: moz://mozilla.org/schemas/glean/metrics/2-0-0

metadata:
  from_lang:
    type: string
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Translation source language
      (it can be set manually and different from detected_lang).
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  to_lang:
    type: string
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Translation target language.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  detected_lang:
    type: string
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Translation source language that was automatically detected.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/350
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  extension_version:
    type: string
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Extension version
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/137
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  model_version:
    type: string
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Version of translation model
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/182
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  extension_build_id:
    type: string
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Extension build id, indicating which git revision
      and build config was used to produce this build
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/137
      - https://github.com/mozilla/firefox-translations/issues/42
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  bergamot_translator_version:
    type: string
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Bergamot translator engine version
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/137
      - https://github.com/mozilla/firefox-translations/issues/42
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  system_memory:
    type: quantity
    unit: mb
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Telemetry Environment `system.memoryMB` metric
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/147
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  cpu_count:
    type: quantity
    unit: cpus
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Telemetry Environment `system.cpu.count` metric
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/147
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  cpu_cores_count:
    type: quantity
    unit: cores
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Telemetry Environment `system.cpu.cores` metric
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/147
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  cpu_vendor:
    type: string
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Telemetry Environment `system.cpu.vendor` metric
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/147
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  cpu_family:
    type: quantity
    unit: enum
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Telemetry Environment `system.cpu.family` metric
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/147
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  cpu_model:
    type: quantity
    unit: enum
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Telemetry Environment `system.cpu.model` metric
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/147
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  cpu_stepping:
    type: quantity
    unit: enum
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Telemetry Environment `system.cpu.stepping` metric
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/147
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  cpu_l2_cache:
    type: quantity
    unit: kb
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Telemetry Environment `system.cpu.l2cacheKB` metric
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/147
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  cpu_l3_cache:
    type: quantity
    unit: kb
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Telemetry Environment `system.cpu.l3cacheKB` metric
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/147
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  cpu_speed:
    type: quantity
    unit: mhz
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Telemetry Environment `system.cpu.speedMHz` metric
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/147
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  cpu_extensions:
    type: string
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Telemetry Environment `system.cpu.extensions` metric
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/147
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  channel:
    type: string
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Firefox distribution channel
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/195
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10

performance:
  total_usage_time:
    type: timespan
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Timing from the first event to the last event.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/43
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  full_page_translated_time:
    type: timespan
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Timing from "translation button pressed"
      to "full page is translated".
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/155
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  full_page_translated_wps:
    type: quantity
    unit: words per second
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Speed of the translation from "translation button
      pressed" to "full page is translated".
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/155
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  model_download_time_num:
    type: timespan
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Time spent on downloading a translation model for a language pair.
      (Renamed from model_download_time to model_download_time_num as part of
      changing type from string to quantity)
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla-extensions/firefox-translations/issues/138
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  model_load_time_num:
    type: timespan
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Time spent on loading a model into memory to start translation.
      (Renamed from model_load_time to model_load_time_num as part of
      changing type from string to quantity)
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla-extensions/firefox-translations/issues/138
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  translation_engine_time:
    type: timespan
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Time spent on translation by the translation engine.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla-extensions/firefox-translations/issues/155
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  translation_engine_wps:
    type: quantity
    unit: words per second
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Speed of translation as measured by the translation engine.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla-extensions/firefox-translations/issues/155
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  word_count:
    type: quantity
    unit: words
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Total number of words on the original web page.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla-extensions/firefox-translations/issues/166
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  word_count_visible_in_viewport:
    type: quantity
    unit: words
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Total number of visible words on the original web page that
      were visible in the viewport at the time of "translation button pressed".
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla-extensions/firefox-translations/issues/166
      - https://github.com/mozilla/firefox-translations/issues/45
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
quality:
  summary:
    type: string
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Summary of quality estimation of translation.
      All scores are in range [0,1].
      <word_avg>,<word_median>,<word_90th>,<sent_avg>,<sent_median>,<sent_90th>
      Example: "0.5,0.55,0.35,0.6,0.55,0.7"
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/107
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  word_avg:
    type: quantity
    unit: points
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Average quality estimation of translation for words
      multiplied by 1000.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/107
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  word_median:
    type: quantity
    unit: points
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Median quality estimation of translation for words
      multiplied by 1000.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/107
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  word_90th:
    type: quantity
    unit: points
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      90th percentile of quality estimation of translation for words
      multiplied by 1000.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/107
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  sent_avg:
    type: quantity
    unit: points
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Average quality estimation of translation for sentences
      multiplied by 1000.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/107
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  sent_median:
    type: quantity
    unit: points
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Median quality estimation of translation for sentences
      multiplied by 1000.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/107
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  sent_90th:
    type: quantity
    unit: points
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      90th percentile of quality estimation of translation for sentences
      multiplied by 1000.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/107
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  is_supervised:
    type: boolean
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Indicates whether a supervised model was used for quality estimation.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/107
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
infobar:
  displayed:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      The translation infobar was automatically displayed in a browser.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  closed:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      The translation infobar was closed.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  translate:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      The "Translate" button was pressed on translation infobar.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  never_translate_lang:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      "Never translate language" button in the infobar options was pressed.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  never_translate_site:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      "Never translate site" button in the infobar options was pressed.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  not_now:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      "Not now" button on the infobar was pressed.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  change_lang:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      "This page is in" language was changed manually.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  outbound_checked:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      User accepts translation of forms by checking the checkbox.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/43
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  outbound_unchecked:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      User disables translation of forms by unchecking the checkbox.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/43
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  outbound_enabled:
    type: boolean
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Translation of forms is enabled.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/43
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  qe_checked:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      User accepts quality estimation by checking the checkbox.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/107
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  qe_unchecked:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      User disables quality estimation by unchecking the checkbox.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/107
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  qe_enabled:
    type: boolean
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Quality estimation is enabled.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/107
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  auto_translate_on:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      "Automatically translate as browse" turned on.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/232
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  auto_translate_off:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      "Automatically translate as browse" turned off.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/232
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  auto_translate_enabled:
    type: boolean
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      "Automatically translate as browse" is enabled.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/232
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10

service:
  not_supported:
    type: counter
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Language pair of user and website languages is not supported.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  lang_mismatch:
    type: counter
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      The user and website languages do not match.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10

errors:
  translation:
    type: counter
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      The translation procedure has failed.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  marian:
    type: counter
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Marian code related error.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  memory:
    type: counter
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Memory allocation error.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  model_download:
    type: counter
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Failed to download a model for a supported language pair.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  engine_download:
    type: counter
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Failed to download translation engine module.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  engine_load:
    type: counter
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Failed to load translation engine wasm module in memory.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
  model_load:
    type: counter
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      Failed to load translation model in memory.
    bugs:
      - https://github.com/mozilla-extensions/firefox-translations/issues/42
      - https://github.com/mozilla/firefox-translations/issues/27
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - technical
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10

forms:
  displayed:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      UI for translation of forms is displayed.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/43
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10

  hidden:
    type: event
    lifetime: ping
    send_in_pings:
      - custom
    description: |
      UI for translation of forms is hidden after it was displayed.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/43
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10

  field_count:
    type: quantity
    lifetime: ping
    unit: fields
    send_in_pings:
      - custom
    description: |
      Number of text fields translated.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/43
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10

  character_count:
    type: quantity
    lifetime: ping
    unit: characters
    send_in_pings:
      - custom
    description: |
      Total number of characters in all translated fields.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/43
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10

  word_count:
    type: quantity
    lifetime: ping
    unit: words
    send_in_pings:
      - custom
    description: |
      Total number of words in all translated fields.
    bugs:
      - https://github.com/mozilla/firefox-translations/issues/43
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1694813
    data_sensitivity:
      - interaction
    notification_emails:
      - anatal-all@mozilla.com
    expires: 2023-08-10
